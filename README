Konwerter-0.2.1

INTRODUCTION

Often, writing longer texts using wonderful high-quality typesetting
program called LaTeX, there appears necessity to include pictures
contained objects, that should be numbered and should be called them in
the text using also numbers. Such a situation is typical for chemical
publications, that contain many chemical schemes with many compounds
on every of them. Up to now, the author of publication had to number
every object manually, that was both time consuming and unpleasant
work. Consider what would happened, if at the end of writing it was
necessary to add at the beginning of the document, any new scheme. It
was necessary to renumber all others schemes.

The konwerter program solves that problem. Using it, one doesn't need
to number any object in graphics anymore, one just give them a names 
called labels. Also in the text the labels are used instead of
numbers. When the text is ready, the start-up of the konwerter program
will just replace all labels with proper numbers both in the graphic and
text. The numbers depends on the order of labels in graphic files. The
label that appeared earlier will have lover number. User has
possibility to use five types of numbering:
- Arabic numbers
- small Roman numbers
- capital Roman numbers
- small letters
- capital letters

All these types of number, can be used at the same time in the
document. Additionally there can appeared letter indexes for example:
1a, 2b, 3a etc, but they are not seted automatically. What is the
index decides author, making the label in special way.

The converter program supports only graphics in eps file. See
compatibility list.

WHAT IS NECESSARY FOR COMPILATION

GNU make
g++ in version 3.0 or higher

COMPILATION

  Compilation doesn't differ from a typical compilation for unix
systems. The first step is the edition of Makefile, in which one must
set the DESTDIR variable. This variable shows where will the program
be installed. By default it is /usr/local/bin and that is the place
the program will be installed. After edition, the program should be 
compiled and installed using below commands (the second one, may 
require the superuser privileges):

1. make
2. make install

HOW DOES IT WORK

The konwerter program reads the tex file, and looks there graphics in
eps format. When any is found, the next step is to look for any labels
in it. The labels are queued, and then changed to numbers. The second
step of working, is to replace all labels in tex file. After finishing
of work, user will be given a file name.tex.auto.tex that should be
compiled with LaTeX once again. After that the dvi file is produced,
in which all labels are already replaced with numbers both in text and
graphics. It is necessary to know, that during label changing process,
the eps files are also changed (the tex file stays unchanged). One can
restore the original eps files, running the konwerter with the proper
option on the original tex file. 

*********************************************************************
IT IS STRONGLY RECOMMENDED TO DO A BACKUP COPY OF ALL FILES BEFORE THE
USAGE OF KONWERTER PROGRAM.
*********************************************************************

PROGRAM USAGE

  Proper working of the konwerter program needs existence in the eps
file the special constructed labels. The labels can contain any
letters belonging to the English alphabet and the numbers. The underline
"_" is not allowed, because it is special character for LaTeX. 
The dot, semicolon and colon are also not allowed because they
have some special meaning for konwerter. The label can have up to 
200 letters.

  Every label should start from the construction that controls a way
of numbering. The leak of the construction, causes that the label will
be numbered in default style. There exist five controlling
constructions.
:r - small Roman numbers
:R - big Roman numbers
:a - Arabic numbers
:l - small letters
:L - big letters

  Quite often chemist use the letter indexes with numbers for example:
1a, 1b, 1c etc. The konwerter program also helps the author to make
such a numbers. To get such a result, that is enough, to add the dot,
at the end of label, and next a letter that should be added. It is not
allowed to put two letters after the dot, because the program will not
recognize it as an index.

THE EPS FILES PREPARING

  In the eps file, every object that should be numbered, should be
labeled in the following way:

?et{label_name;number}

- label_name - any label prepared in the way described above
- number - any number higher than zero. The existence of this
parameter parameter needs small explanation. The eps files are readed
line by line. Because of that labels can appeared in not proper
order. To prevent that the number is necessary. When the konwerter
program will find two labels ?et{label1;1} and ?et{label2;2} it will
just know, that label1 should have lover number that label2. The
author of the eps file, know the order, the program doesn't, so it
needs these numbers. If you forget to add the number, automatically
it will set to 0. The numbers can repeat oneself, but it will cause the
mistakes during numbering. A few example of proper labels are below:
?et{benzene;1} - the default numbering style will be used
?et{:Rbenzene;2} -the big Roman numbering style will be used
?et{:rbenzene;3} - the small Roman numbering style will be used
?et{:rbenzene.a;4} - the same number as above will be used, but
		    additionally index a will be given 
		    for example: iva.
?et{hexane.a;5} - the default numbering style will be used, and
                 additionally the index a will be used for example: 2a
                 or 4a.

  It is important to remember, that the labels :Rbenzene and :benzene
are totally different, and they will be given different
number. Additionally in case such 2 labels: ?et{hexane.a;1} and
?et{hexane;2} in one or in many eps files, both labels will be given
the same number, but additionally the first will be given the a
index. In this case it will be as follows: 2a and 2.

THE LaTeX FILES
  
  The tex files also need a proper handling. Because not all eps files
contain labels, and because in LaTeX doesn't exist one general method
for pictures including, the konwerter program searches in the tex
code, the instruction that tells to it, in which file the labels
should be searched. The construction looks as below:

%?plik{filename}

  As one can see, that is comment in LaTeX file. The instruction
should always start from the new line. After finding such a line, the
konwerter program will search the labels in file filename.

  It is worth to notice, that the file filename, doesn't need to be
real eps file. It can be any text file containing the labels prepared
as above writen. It allows us, to not straightway controlling of numbers.

  To call the label in the tex file, the special command should be
made (the \newcommand command). By default it is \nrzw{label}, but this can
be changed, using the command line parameter. The \nrzw{label}
construction, doesn't need to start from the beginning of the line, it
can be placed in any place. It allows us, to write without thinking
where the line should be break (that is finally TeX business). The label
should be the same as in eps file, after semicolon and the number
removing. Let us consider below example. If in the eps file below
labels are present:

?et{benzene.a;1}
?et{:Rtoluene;2}
?et{:rxylene;3}
?et{benzene.b}

in the tex file we should place:  \nrzw{benzene.a},
\nrzw{:Rtoluene},\nrzw{:rxylene}, \nrzw{benzene.b}. If additionally in
the tex file, we placed \nrzw{benzene}, it also will be given a number
- the same as for the benzene.b label. That is the result of program
project, and according to the author, that is correct.

  After processing is ready, a new file filename.tex.auto.tex is 
produced,in which above labels will be changed to: \nrzw{3} reacts with
\nrzw{4} giving .... The filename.tex.auto.tex should be once again
compiled with LaTeX to get dvi file.

  The konwerter program, changes also labels to numbers in eps
file. To restore the original eps files format, run the konwerter with
the -ntl option, or using name etykietuj on the filename.tex file.

  The konwerter program recognizes the LaTeX command \input{}, what
allows us to process documents that contained many files.

  It is sometimes necessary, to start numbering from the beginning
starting from some part of the text (for example in the new
chapter). The konwerter program supports such a situation. To get such
result, that is enough to include in tex file, one of the below
instruction:
%--set-r-to a
%--set-R-to a
%--set-a-to a
%--set-l-to a
%--set-L-to a
  These commands results in setting the counter for small Roman number,
capital Roman numbers, Arabic numbers, small letters and capital
letters to the number a. The a, should be a number for any of
type. These command should start from the new line.
Examples:
%--set-R-to 12 - setting the counter for capital Roman numbers to 12
%--set-a-to 21 - setting the counter for Arabic numbers to 21
  It could be sometimes useful to use another numbering style in new chapter.
The konwerter program supports also this feature. It is enough to place in the
tex file below command:
%--set-d-to K, 
where K could be: r, R, a, l, L. Beginning from this line, the default numbering
style for new labels will be as seted. 
  It is worth to notice, that the new settings, given by above commands, will
concern only new labels. Old one, will have the same numbers.

THE LANGUAGE AND THE COMMAND LINE PARAMETERS
  The konwerter program supports at present two languages: English (default) and
Polish. It also recognizes the LANG environment variable. If it is set to pl_PL,
the konwerter will speak in polish, otherwise English will be used as default.
  Type konwerter -l en -h to see the possible parameters with short characteristic.

COMPATIBILITY LIST
The konwerter is knonw to work with eps files produced by:
1) ChemDraw from ChemOffice package
2) Xfig - vector drawing program for linux
3) chemtool - chemical drawing software for linux.

EXAMPLES

  The program konwerter recognizes he name using which it was called.
 The konwerter name is equal to the  -ltn parameter, and the etykietuj
name is equal to the -ntl parameter. 

konwerter -dns R  plik.tex - change labels to numbers in plik.tex file
			     using capital Roman numbers as default numbering
			     style.
			     
etykietuj -ltn plik.tex    - the same as above

konwerter -ntl plik.tex    - change numbers to labels in eps files mentioned
			     in the plik.tex file

etykietuj plik.tex -         the same as above

konwerter -iss plik.tex    - change labels to numbers in plik.tex file
 			     ignoring $--set-counter-to switch

konwerter -if plik.tex	   - change labels to numbers using default
			     numbering style for all labels. This
                             command ignores :r, :R, :a, :l, :L
			     switches
			     
AUTHOR
Piotr Wawrzyniak piti@eliksir.ch.pw.edu.pl
In case of any questions please contact using above address.
I wish you nice using.
